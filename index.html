<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NB Automated | Operations Portal</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-card">
        <header>
            <div class="logo-container">
                <img src="assets/logo.png" alt="NB AUTOMATED" class="company-logo" onerror="this.style.display='none'">
            </div>
            <h1>Operations Portal</h1>
            <p>System by The Oracle</p>
        </header>

        <!-- Navigation Tabs -->
        <nav class="view-tabs">
            <button id="viewEntryBtn" class="tab-btn active-tab">Record Entry</button>
            <button id="viewDashBtn" class="tab-btn">Data Dashboard</button>
        </nav>

        <!-- 1. RECORD ENTRY VIEW -->
        <form id="opForm">
            <div class="input-group">
                <label>Transaction Type</label>
                <select id="saleType" required>
                    <option value="Retail">Retail Sale</option>
                    <option value="Reseller">Reseller Sale</option>
                    <option value="Expense">Business Expense</option>
                </select>
            </div>

            <div class="input-group" id="catGroup">
                <label>Category</label>
                <select id="category" required disabled>
                    <option value="">Syncing with Sheet...</option>
                </select>
            </div>

            <div class="input-group">
                <div class="label-row">
                    <label id="productLabel">Product / Item</label>
                    <span id="stockBadge" class="stock-badge hidden"></span>
                </div>
                <select id="product" required disabled>
                    <option value="">Select Category First</option>
                </select>
                <input type="text" id="manualInput" class="hidden" placeholder="e.g. Branded Nylon, Fuel">
            </div>

            <div class="input-group">
                <label id="qtyLabel">Quantity</label>
                <input type="number" id="qty" min="1" placeholder="Enter Qty" required>
            </div>

            <button type="submit" id="submitBtn">Log Transaction</button>
            <div id="feedback" class="hidden"></div>
        </form>

        <!-- 2. DATA DASHBOARD VIEW -->
        <div id="dashboardView" class="hidden">
            <div class="stats-grid">
                <div class="stat-card highlight">
                    <span class="stat-label">Monthly Net Profit</span>
                    <span id="displayProfit" class="stat-value">₦0</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Monthly Revenue</span>
                    <span id="displayRevenue" class="stat-value">₦0</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Profit Margin</span>
                    <span id="displayMargin" class="stat-value">0%</span>
                </div>
            </div>

            <!-- This container will be populated by script.js with Yearly stats and Top 10 lists -->
            <div id="stockAnalysis" class="stock-list">
                <div class="loading-text">Loading Analytics...</div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
